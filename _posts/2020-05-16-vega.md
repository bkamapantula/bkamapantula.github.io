testing vega chart

 <div id="vis"></div>
 <script src="https://vega.github.io/vega/vega.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-tooltip/0.23.0/vega-tooltip.min.js"></script>
 <script type="text/javascript">
// parse a spec and create a visualization view

var spec_url = "https://gist.githubusercontent.com/bkamapantula/2b15fec42c4971ea02cc45167a4847ab/raw/a9c1acc35904e8f188e7c45c21cc87e8cdafec13/mobility-spec.json" 
//new vega.View(vega.parse.spec(spec))
//  .renderer('svg')
//  .tooltip(new vegaTooltip.Handler().call)
//  .initialize("#vis").hover().run()
  
fetch(spec_url)
  .then(res => res.json())
  .then(spec => render(spec))
  .catch(err => console.error(err));

function render(spec) {
  view = new vega.View(vega.parse(spec), {
    renderer:  'svg',  // renderer (canvas or svg)
    container: '#vis',   // parent DOM container
    hover:     true,       // enable hover processing
    tooltip: new vegaTooltip.Handler().call
  })
  return view.runAsync()
}
</script>

